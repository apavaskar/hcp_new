"use strict";(self.webpackChunkantd_demo=self.webpackChunkantd_demo||[]).push([[414],{7296:function(t,n,e){e.d(n,{Z:function(){return m}});var r=e(9439),i=e(7586),o=e(8687),a=e(3734),c=e(7083),u=e(4482),l=e(2791),f=(0,e(6916).P1)((function(t){return t.filter.hierarchy}),(function(t){return t})),d=e(763),s=e.n(d),h=e(184),p=a.Z.Option,y={handleLoadSelect:function(t){return function(n){n({type:u.v,payload:t})}}},m=(0,o.$j)((function(t){return{authInfo:(0,i.Dr)(t),profileInfo:(0,i.Rs)(t),hierarchy:f(t)}}),y)((function(t){var n=t.authInfo,e=t.profileInfo,i=t.handleLoadSelect,o=t.hierarchy,u=t.onSelect,f=(0,l.useState)([]),d=(0,r.Z)(f,2),y=d[0],m=d[1],x=(0,l.useState)(),Z=(0,r.Z)(x,2),j=Z[0],v=Z[1];(0,l.useEffect)((function(){i({locationId:e.location.id,certificate:n.certificate})}),[]),(0,l.useEffect)((function(){m(o)}),[o]);return(0,h.jsx)(c.Z,{tip:"Loading Filters",spinning:s().isEmpty(o),children:(0,h.jsx)(a.Z,{showSearch:!0,onSearch:function(t){var n=o.filter((function(n){return n.location.ciName.startsWith(t.toLowerCase())}));m(n)},filterOption:!1,defaultValue:"".concat(j?j.value:""),style:{width:"100%"},onChange:function(t){v(t),u(t)},allowClear:!0,children:y.map((function(t){return(0,h.jsx)(p,{value:t.location.id,children:t.location.name},t.location.id)}))})})}))},4414:function(t,n,e){e.r(n);var r=e(4942),i=e(1413),o=e(3433),a=e(9439),c=e(7586),u=e(7296),l=e(9291),f=e(6106),d=e(914),s=e(1666),h=e(3707),p=e(6935),y=e(2791),m=e(8687),x=e(1458),Z=e(1025),j=e(4762),v=(e(6610),e(184)),k={handleSubmitReport:x.Lw};n.default=(0,m.$j)((function(t){return{authInfo:(0,c.Dr)(t),profileInfo:(0,c.Rs)(t),report:(0,j.L)(t)}}),k)((function(t){var n=t.handleSubmitReport,e=t.authInfo,c=t.report,m=(0,y.useState)({}),x=(0,a.Z)(m,2),j=x[0],k=x[1],I=(0,y.useState)([]),S=(0,a.Z)(I,2),g=S[0],w=S[1];(0,y.useEffect)((function(){var t=[{title:"Name",width:150,dataIndex:"employee",key:"user_name",render:function(t){return t.name},fixed:"left"},{title:"Location",width:150,dataIndex:"location",key:"location_name",render:function(t){return t.name},fixed:"left"},{title:"Date",dataIndex:"detailsList",children:(0,o.Z)(Array(c.numDays).keys()).map((function(t){return{title:"".concat(t+1),dataIndex:"detailsList",width:100,key:"key-"+t,render:function(n){switch(n[t].activityType){case"NC":return{props:{style:{background:"orange"}},children:n[t].activityType};case"WO":return{props:{style:{background:"red"}},children:n[t].activityType};default:return{props:{style:{background:"green"}},children:(0,v.jsxs)(v.Fragment,{children:[n[t].activityType+": "+n[t].countActivity,(0,v.jsx)("br",{}),"# Ord:"+n[t].countOrders,(0,v.jsx)("br",{}),"# Inv:"+n[t].countInvoices]})}}}}}))}];w(t)}),[c]);var b=function(t,n){k((0,i.Z)((0,i.Z)({},j),{},(0,r.Z)({},n,t)))};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.Z,{title:"Attendance Report"}),(0,v.jsxs)(f.Z,{gutter:16,children:[(0,v.jsx)(d.Z,{span:4,children:(0,v.jsx)(u.Z,{onSelect:function(t){return b(t,"location")}})}),(0,v.jsx)(d.Z,{span:3,children:(0,v.jsx)(s.Z,{onChange:function(t){return b(t,"date")},picker:"month"})}),(0,v.jsx)(d.Z,{span:4,children:(0,v.jsx)(h.Z,{type:"primary",onClick:function(){n({locationId:j.location,yearMonth:(0,Z.A7)(j.date),certificate:e.token})},children:"Submit"})})]}),(0,v.jsx)(p.Z,{style:{marginTop:20},dataSource:c.rows,columns:g,scroll:{x:2e3}})]})}))},4762:function(t,n,e){e.d(n,{L:function(){return i},P:function(){return o}});var r=e(6916),i=(0,r.P1)((function(t){return t.effortReport.attendanceReport}),(function(t){return t})),o=(0,r.P1)((function(t){return t.effortReport.effortReport}),(function(t){return t}))}}]);
//# sourceMappingURL=414.787d651c.chunk.js.map