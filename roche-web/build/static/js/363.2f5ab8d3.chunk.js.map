{"version":3,"file":"static/js/363.2f5ab8d3.chunk.js","mappings":"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","sources":["redux/selectors/filterSelectors.js","components/filters/HierarchyFilter.js","redux/actions/filter/filterActions.js","components/report/EffortReportComponent.js","redux/selectors/effortReportSelectors.js"],"sourcesContent":["import { createSelector } from 'reselect'\n\nconst filter = (state) => state.filter\nconst hierarchy = (state) => state.filter.hierarchy\n\nexport const selectHierarchy = createSelector(hierarchy,\n    (hierarchySelect) => hierarchySelect)\n","import PropTypes from 'prop-types';\nimport {selectAuthInfo, selectProfileInfo} from '../../redux/selectors/authSelectors';\nimport {connect} from 'react-redux';\nimport { Select, Spin} from 'antd';\nimport {employeeHierarchyStartAction} from '../../redux/actions/filter/filterActions';\nimport React, {useEffect, useState} from 'react';\nimport {selectHierarchy} from \"../../redux/selectors/filterSelectors\";\nimport _ from 'lodash'\nconst { Option } = Select;\nconst HierarchyFilter = ({authInfo,\n                          profileInfo,\n                          handleLoadSelect,\n                          hierarchy,\n                          onSelect}) => {\n\n    const [selectHierarchy, setSelectHierarchy] = useState([])\n    const [selectedValue, setSelectedValue] = useState()\n    useEffect(()=> {\n        handleLoadSelect({\n            locationId: profileInfo.location.id,\n            certificate: authInfo.token\n        })\n    },[])\n\n    useEffect(()=> {\n        setSelectHierarchy(hierarchy)\n    },[hierarchy])\n    const handleSelectEmployee = (value) => {\n        setSelectedValue(value)\n        onSelect(value)\n    }\n\n    const handleSearch  = (value) => {\n        const selected = hierarchy.filter(h => {\n            return h.location.ciName.startsWith(value.toLowerCase())})\n        setSelectHierarchy(selected)\n    }\n    return (\n        <Spin tip={'Loading Filters'} spinning={_.isEmpty(hierarchy)} >\n            <Select\n                showSearch\n                onSearch={handleSearch}\n                filterOption={false}\n                defaultValue={`${selectedValue ? selectedValue.value : ''}`}\n                style={{\n                    width: '100%',\n                }}\n                onChange={handleSelectEmployee}\n                allowClear>\n                {selectHierarchy.map(e =>\n                    <Option value={e.location.id} key={e.location.id}>\n                        {e.location.name}</Option>\n                )}\n            </Select>\n        </Spin>\n    )\n}\n\nHierarchyFilter.propTypes = {\n    authInfo: PropTypes.any,\n    profileInfo: PropTypes.any,\n    hierarchy: PropTypes.any,\n    handleLoadSelect: PropTypes.func,\n    onSelect: PropTypes.func\n}\n\nconst mapState = (state) => {\n    const authInfo = selectAuthInfo(state)\n    const profileInfo = selectProfileInfo(state)\n    const hierarchy = selectHierarchy(state)\n    return { authInfo, profileInfo, hierarchy }\n}\n\nconst actions = {\n    handleLoadSelect: employeeHierarchyStartAction\n}\n\nexport default connect(mapState, actions)(HierarchyFilter)\n","import {EMPLOYEE_HIERARCHY_FAIL, EMPLOYEE_HIERARCHY_START, EMPLOYEE_HIERARCHY_SUCCESS} from \"./filterActionConstants\";\n\nexport const employeeHierarchyStartAction = (payload) => (dispatch) => {\n  dispatch({\n    type: EMPLOYEE_HIERARCHY_START,\n    payload: payload,\n  })\n}\n\nexport const employeeHierarchySuccessAction = (payload) => (dispatch) => {\n  dispatch({\n    type: EMPLOYEE_HIERARCHY_SUCCESS,\n    payload: payload,\n  })\n}\n\nexport const employeeHierarchyFailAction = (payload) => (dispatch) => {\n  dispatch({\n    type: EMPLOYEE_HIERARCHY_FAIL,\n    payload: payload,\n  })\n}\n\n","import PropTypes from 'prop-types';\nimport {selectAuthInfo, selectProfileInfo} from '../../redux/selectors/authSelectors';\nimport TitleWidget from '../../widgets/TitleWidget';\nimport {connect} from 'react-redux';\nimport {effortReportStartAction} from '../../redux/actions/effort-report/effortReportActions';\nimport {selectEffortReport} from '../../redux/selectors/effortReportSelectors';\nimport {Button, Col, DatePicker, Row, Table} from 'antd';\nimport HierarchyFilter from '../filters/HierarchyFilter';\nimport {useState} from 'react';\nimport {toYyyyMm} from '../../utils/DateUtils';\nimport {Excel} from 'antd-table-saveas-excel';\n\n\nconst EffortReportComponent = ({handleSubmitReport, authInfo, report}) => {\n    const[form, setForm] = useState({})\n    const columns = [\n        {\n            title: 'RTF',\n            width: 25,\n            dataIndex: 'rtfName',\n            key: 'rtfName',\n            fixed: 'left'\n        },\n        {\n            title: 'HQ Name',\n            width: 25,\n            dataIndex: 'hqName',\n            key: 'hqName',\n            fixed: 'left'\n        },\n        {\n            title: '# Field Days',\n            width: 10,\n            dataIndex: 'fwdNum',\n            key: 'fwdNum',\n            align: 'right',\n        },\n        {\n            title: '# Customers',\n            width: 15,\n            dataIndex: 'customerListNum',\n            key: 'customerListNum',\n            align: 'right',\n        },\n        {\n            title: '# Calls',\n            width: 10,\n            dataIndex: 'totalCallsDone',\n            key: 'totalCallsDone',\n            align: 'right',\n\n        },\n        {\n            title: '# Met Once',\n            width: 10,\n            dataIndex: 'totalMetOnce',\n            key: 'totalMetOnce',\n            align: 'right',\n        },\n        {\n            title: '# Met > 1',\n            width: 10,\n            dataIndex: 'totalMetMultiple',\n            key: 'totalMetMultiple',\n            align: 'right',\n        },\n        {\n            title: '# Missed',\n            width: 10,\n            dataIndex: 'totalMissedCalls',\n            key: 'totalMissedCalls',\n            align: 'right',\n        },\n        {\n            title: '# WholeSeller Repeat',\n            width: 20,\n            dataIndex: 'totalWholesellerRepeatCalls',\n            key: 'totalWholesellerRepeatCalls',\n            align: 'right',\n        },\n        {\n            title: '# Retailer Repeat',\n            width: 20,\n            dataIndex: 'totalRetailerRepeatCalls',\n            key: 'totalRetailerRepeatCalls',\n            align: 'right',\n        },\n        {\n            title: 'WholeSeller Order Value',\n            width: 20,\n            dataIndex: 'l2OrderValue',\n            key: 'l2OrderValue',\n            render: item => item.toFixed(2),\n            align: 'right',\n        },\n        {\n            title: 'Retailer Order Value',\n            width: 15,\n            dataIndex: 'l3OrderValue',\n            key: 'l3OrderValue',\n            render: item => item.toFixed(2),\n            align: 'right',\n        },\n        {\n            title: '# Productive Calls',\n            width: 15,\n            dataIndex: 'productiveCalls',\n            key: 'productiveCalls',\n            align: 'right',\n        },\n        {\n            title: '# Customer with Inv',\n            width: 15,\n            dataIndex: 'customersWithInventory',\n            key: 'customersWithInventory',\n            align: 'right',\n        },\n        {\n            title: '# WholeSeller Invoice',\n            width: 20,\n            dataIndex: 'l2InvoiceCount',\n            key: 'l2InvoiceCount',\n            align: 'right',\n        },\n        {\n            title: 'WholeSeller Invoice Value',\n            width: 20,\n            dataIndex: 'l2InvoiceValue',\n            key: 'l2InvoiceValue',\n            render: item => item.toFixed(2),\n            align: 'right',\n        },\n        {\n            title: '# Retailer Invoice',\n            width: 20,\n            dataIndex: 'l3InvoiceCount',\n            key: 'l3InvoiceCount',\n            align: 'right',\n        },\n        {\n            title: 'WholeSeller Retailer Value',\n            width: 20,\n            dataIndex: 'l3InvoiceValue',\n            key: 'l3InvoiceValue',\n            render: item => item.toFixed(2),\n            align: 'right',\n        },\n    ]\n    const changeForm = (value, field) => {\n        setForm({...form, [field]: value})\n    }\n\n    const handleClick = () => {\n        const excel = new Excel();\n        excel\n            .addSheet('test')\n            .addColumns(columns)\n            .addDataSource(report, {\n                str2Percent: true\n            })\n            .saveAs('Excel.xlsx');\n    };\n\n\n    const submitReport = () => {\n        handleSubmitReport({\n            locationId: form.location,\n            yearMonth: toYyyyMm(form.date),\n            certificate: authInfo.token\n        })\n    }\n\n    return (\n        <>\n            <TitleWidget title={'Effort Report'} />\n            <Row gutter={16}>\n                <Col span={4}>\n                    <HierarchyFilter onSelect={(value) => changeForm(value, 'location')}/>\n                </Col>\n                <Col span={3}>\n                    <DatePicker onChange={(date)=> changeForm(date, 'date')} picker='month' />\n                </Col>\n                <Col span={4}>\n                    <Button type={'primary'} onClick={submitReport}>Submit</Button>\n                </Col>\n            </Row>\n            <Row>\n                <Col span={2} offset={22}>\n                    <Button type={'primary'} onClick={handleClick}>Export</Button>\n                </Col>\n            </Row>\n            <Table\n                style={{marginTop: 20}}\n                dataSource={report}\n                columns={columns}\n                scroll={{\n                    x: 2000,\n                }}\n            />\n        </>\n    )\n}\n\nEffortReportComponent.propTypes = {\n    authInfo: PropTypes.any,\n    profileInfo: PropTypes.any,\n    handleSubmitReport: PropTypes.func,\n    report: PropTypes.any\n}\n\nconst mapState = (state) => {\n    const authInfo = selectAuthInfo(state)\n    const profileInfo = selectProfileInfo(state)\n    const report = selectEffortReport(state)\n    console.log(report)\n    return { authInfo, profileInfo, report }\n}\n\nconst actions = {\n    handleSubmitReport: effortReportStartAction\n}\n\nexport default connect(mapState, actions)(EffortReportComponent)\n","import { createSelector } from 'reselect'\n\nconst filter = (state) => state.effortReport\nconst attendanceReport = (state) => state.effortReport.attendanceReport\nconst effortReport = state => state.effortReport.effortReport\n\nexport const selectAttendanceReport = createSelector(attendanceReport,\n    (attendanceReportSelect) => attendanceReportSelect)\n\nexport const selectEffortReport = createSelector(effortReport,\n    (effortReportSelect) => effortReportSelect)\n"],"names":["selectHierarchy","createSelector","state","filter","hierarchy","hierarchySelect","Option","Select","actions","handleLoadSelect","payload","dispatch","type","EMPLOYEE_HIERARCHY_START","connect","authInfo","selectAuthInfo","profileInfo","selectProfileInfo","onSelect","useState","setSelectHierarchy","selectedValue","setSelectedValue","useEffect","locationId","location","id","certificate","token","tip","spinning","_","showSearch","onSearch","value","selected","h","ciName","startsWith","toLowerCase","filterOption","defaultValue","style","width","onChange","allowClear","map","e","name","handleSubmitReport","effortReportStartAction","report","selectEffortReport","console","log","form","setForm","columns","title","dataIndex","key","fixed","align","render","item","toFixed","changeForm","field","gutter","span","date","picker","onClick","yearMonth","toYyyyMm","offset","Excel","addSheet","addColumns","addDataSource","str2Percent","saveAs","marginTop","dataSource","scroll","x","selectAttendanceReport","effortReport","attendanceReport","attendanceReportSelect","effortReportSelect"],"sourceRoot":""}