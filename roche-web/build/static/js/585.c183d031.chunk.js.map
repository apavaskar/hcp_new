{"version":3,"file":"static/js/585.c183d031.chunk.js","mappings":"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","sources":["redux/selectors/expenseReportSelectors.js","components/expense/claim/SearchClaimExpenseComponent.js"],"sourcesContent":["import { createSelector } from 'reselect'\n\nconst expense = (state) => state.expense\nconst headers = (state) => state.expense.headers\nconst summary = state => state.expense.summary\n\nexport const selectExpenseHeaders = createSelector(headers,\n    (headersSelect) => headersSelect)\n\nexport const selectSummary = createSelector(summary,\n    summarySelect => summarySelect\n    )\n","import {selectAuthInfo, selectProfileInfo} from \"../../../redux/selectors/authSelectors\";\nimport TitleWidget from \"../../../widgets/TitleWidget\";\nimport {Button, Col, DatePicker, Row, Select, Table} from \"antd\";\nimport {useState} from \"react\";\nimport {changeLocationTypeAction, searchExpenseStartAction} from \"../../../redux/actions/expense/expenseActions\";\nimport {toDisplayDateDay, toYyyyMm} from \"../../../utils/DateUtils\";\nimport {selectExpenseHeaders, selectSummary} from \"../../../redux/selectors/expenseReportSelectors\";\nimport {Typography} from \"antd\";\nimport { connect } from 'react-redux'\n\nconst SearchClaimExpenseComponent = ({authInfo,\n                                      profileInfo,\n                                         summary,\n                                      handleSearchExpense,\n                                      handleChangeLocationType,\n                                      headers}) => {\n    const[form, setForm] = useState({})\n\n    const changeForm = (value, field) => {\n        setForm({...form, [field]: value})\n    }\n\n    const changeLocationType = (value, id) => {\n        handleChangeLocationType({\n            type: value,\n            id: id\n        })\n    }\n\n    let cols = [\n        {\n            title: 'Date',\n            width: 10,\n            dataIndex: 'dateExpense',\n            key: 'dateExpense',\n            render: item => toDisplayDateDay(item),\n            fixed: 'left'\n        },\n        {\n            title: 'Activity Type',\n            width: 10,\n            dataIndex: 'activityId',\n            key: 'activityId',\n            render: item => {\n              switch (item) {\n                  case 0: return 'None'\n                  case 1: return 'Calls'\n                  case 2: return 'Leave'\n              }\n            },\n            fixed: 'left'\n        },\n        {\n            title: 'Location Type',\n            width: 15,\n            dataIndex: 'location_type',\n            key: 'location_type',\n            render: (text, record )=> {\n                if (record.activityId === 1) {\n                    return <Select\n                        defaultValue=''\n                        style={{\n                            width: 180,\n                        }}\n                        onChange={(v) => changeLocationType(v, record.id)}>\n                        <Select.Option value=\"HQ\">HQ</Select.Option>\n                        <Select.Option value=\"EX-HQ\">EX HQ</Select.Option>\n                        <Select.Option value=\"OS\">OUTSTATION</Select.Option>\n                        <Select.Option value=\"EX-OS\">EX OUTSTATION</Select.Option>\n                    </Select>\n                } else {\n                    return ''\n                }\n            }\n        },\n        {\n            title: 'Towns Visited',\n            width: 20,\n            dataIndex: 'townsVisited',\n            key: 'towns',\n            render: (item, record) => {\n                if (item.length === 0) {\n                    return  '-'\n                }\n                return item.map(i => i.name).join(' -> ')\n            }\n        },\n        {\n            title: 'Distance',\n            width: 10,\n            dataIndex: 'distance',\n            key: 'distance',\n            render: (item) => {\n                return 0\n            }\n        },\n        {\n            title: 'Daily Allowance',\n            width: 10,\n            dataIndex: 'dailyAllowance',\n            key: 'dailyAllowance'\n        },\n        {\n            title: 'Fare',\n            width: 10,\n            dataIndex: 'fare',\n            key: 'fare',\n            render: item =>  '0'\n        }\n\n    ]\n    const submitReport = () => {\n        handleSearchExpense({\n            certificate: authInfo.token,\n            employeeId: profileInfo.user.id,\n            yearMonth: toYyyyMm(form.date)\n        })\n    }\n    return(\n        <>\n            <TitleWidget title={'Claim Expense'} />\n            <Row gutter={16}>\n                <Col span={3}>\n                    <DatePicker onChange={(date)=> changeForm(date, 'date')} picker='month' />\n                </Col>\n                <Col span={4}>\n                    <Button type={'primary'} onClick={submitReport}>Submit</Button>\n                </Col>\n            </Row>\n            <Row gutter={16}>\n                <Table\n                    pagination={false}\n                    style={{marginTop: 20}}\n                    dataSource={headers.details}\n                    columns={cols}\n                    scroll={{\n                        x: 1000,\n                    }}\n                />\n            </Row>\n            <Row>\n                <Col span={4}>Claim Summary</Col>\n                <Col span={3}><Typography.Title level={5} style={{ margin: 0 }}>DA: {summary.totalDA}</Typography.Title></Col>\n                <Col span={3}><Typography.Title level={5} style={{ margin: 0 }}>Fare: {summary.totalFare}</Typography.Title></Col>\n            </Row>\n\n        </>\n        )\n}\n\nconst mapState = (state) => {\n    const authInfo = selectAuthInfo(state)\n    const profileInfo = selectProfileInfo(state)\n    const headers = selectExpenseHeaders(state)\n    const summary = selectSummary(state)\n    return { authInfo, profileInfo, headers, summary }\n}\n\nconst actions = {\n    handleSearchExpense: searchExpenseStartAction,\n    handleChangeLocationType: changeLocationTypeAction\n}\n\n\nexport default connect(mapState, actions)(SearchClaimExpenseComponent)\n"],"names":["selectExpenseHeaders","createSelector","state","expense","headers","headersSelect","selectSummary","summary","summarySelect","actions","handleSearchExpense","searchExpenseStartAction","handleChangeLocationType","changeLocationTypeAction","connect","authInfo","selectAuthInfo","profileInfo","selectProfileInfo","useState","form","setForm","cols","title","width","dataIndex","key","render","item","toDisplayDateDay","fixed","text","record","activityId","defaultValue","style","onChange","v","value","id","type","length","map","i","name","join","TitleWidget","gutter","span","date","field","picker","onClick","certificate","token","employeeId","user","yearMonth","toYyyyMm","pagination","marginTop","dataSource","details","columns","scroll","x","level","margin","totalDA","totalFare"],"sourceRoot":""}