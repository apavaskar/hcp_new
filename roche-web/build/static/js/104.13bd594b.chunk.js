"use strict";(self.webpackChunkantd_demo=self.webpackChunkantd_demo||[]).push([[104,859],{3859:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var a=t(1413),i=t(9439),r=(t(2791),t(8687)),o=t(9973),l=t(7586),c=t(2409),s=t(6161),u=t(586),d=t(6106),f=t(914),h=t(177),m=t(3707),p=t(7689),j=t(184),v={handleLogin:o.e6},x=(0,r.$j)((function(e){return{authInfo:(0,l.Dr)(e),loggedIn:(0,l.gs)(e)}}),v)((function(e){var n=e.handleLogin,t=(e.authInfo,e.loggedIn),r=c.Z.useForm(),o=(0,i.Z)(r,1)[0],l=s.Z.Title;return t?(0,j.jsx)(p.Fg,{push:!0,to:"/home/dashboard"}):(0,j.jsx)(u.Z,{className:"login-page",children:(0,j.jsx)(d.Z,{children:(0,j.jsx)(f.Z,{span:6,offset:2,children:(0,j.jsxs)(c.Z,(0,a.Z)((0,a.Z)({},{labelCol:{span:6},wrapperCol:{span:19}}),{},{form:o,name:"login-form",onFinish:function(){console.log("On finish",o)},className:"login-form",autoComplete:"off",children:[(0,j.jsx)(l,{level:3,children:"Login"}),(0,j.jsx)(c.Z.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Username is required"}],children:(0,j.jsx)(h.Z,{placeholder:"Username"})}),(0,j.jsx)(c.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Password is required"}],children:(0,j.jsx)(h.Z.Password,{placeholder:"Password"})}),(0,j.jsx)(c.Z.Item,(0,a.Z)((0,a.Z)({},{wrapperCol:{offset:18,span:1}}),{},{children:(0,j.jsx)(m.Z,{type:"primary",onClick:function(){o.validateFields().then((function(e){n({data:e})})).catch((function(e){}))},children:"Submit"})}))]}))})})})}))},5006:function(e,n,t){t.d(n,{Z:function(){return y}});var a=t(4942),i=t(9439),r=t(2791),o=t(2409),l=t(914),c=t(177),s=t(3707),u=t(763),d=t(3734),f=t(7586),h=t(8687),m=t(6155),p=t(2695),j=t(184),v={handleInitSelect:m.NL},x=(0,h.$j)((function(e){return{authInfo:(0,f.Dr)(e)}}),v)((function(e){var n=e.onChange,t=(e.handleInitSelect,e.init,e.name),a=(e.authInfo,e.selectResult),i=e.value,r=e.disabled;return void 0===a?(0,j.jsx)(j.Fragment,{}):(0,j.jsx)(d.Z,{style:{width:"100%"},onChange:n,value:i&&i.id?i.id:i,options:a[t]||[],disabled:null!=r&&r,optionFilterProp:"children",showSearch:!0,filterOption:function(e,n){var t;return(null!==(t=null===n||void 0===n?void 0:n.label.toLowerCase())&&void 0!==t?t:"").includes(e.toLowerCase())},filterSort:function(e,n){var t,a;return(null!==(t=null===e||void 0===e?void 0:e.label)&&void 0!==t?t:"").toLowerCase().localeCompare((null!==(a=null===n||void 0===n?void 0:n.label)&&void 0!==a?a:"").toLowerCase())}})})),g={handleInitSelect:m.NL},Z=(0,h.$j)((function(e){return{authInfo:(0,f.Dr)(e),selectResult:(0,p.fl)(e)}}),g)((function(e){var n=e.onChange,t=e.handleInitSelect,a=e.init,i=e.name,o=e.authInfo,l=e.selectResult,c=e.value;return console.log(a),(0,r.useEffect)((function(){t({api:a,certificate:o.certificate,name:i})}),[i]),(0,j.jsx)(d.Z,{mode:"multiple",style:{width:"100%"},onChange:n,value:c&&c.id?c.id:c,options:l[i]})})),b=function(e){var n=e.type,t=e.element,a=e.actions,i=e.onChange,r=e.value,o=e.selectResults;switch(n.toUpperCase()){case"TEXT":return(0,j.jsx)(c.Z,{placeholder:t.props.placeholder,onChange:i,value:r,disabled:null!=t.validations.isEnabled&&t.validations.isEnabled});case"SUBMIT":return(0,j.jsx)(s.Z,{type:"primary",htmlType:"submit",children:t.props.label});case"BUTTON":return console.log(a,t),(0,j.jsx)(s.Z,{onClick:a[t.props.action],children:t.props.label});case"SELECT":return console.log(t),(0,j.jsx)(x,{name:t.name,init:t.onSearch,onChange:i,value:r,disabled:t.validations.isEnabled,selectResult:o});case"MULTI_SELECT":return(0,j.jsx)(Z,{name:t.name,init:t.onSearch,onChange:i,value:r});default:return n}},y=function(e){var n=e.meta,t=e.actions,r=e.initialValues,c=e.selectResults,s=o.Z.useForm(),d=(0,i.Z)(s,1)[0];if(void 0===n||void 0===n.attributes)return(0,j.jsx)(j.Fragment,{});return(0,j.jsx)(l.Z,{span:24,children:(0,j.jsx)(o.Z,{form:d,onFinish:function(e){console.log(e),t.submitAction(e)},labelCol:{span:10},layout:n.inline?"inline":"horizontal",initialValues:r,children:n.attributes.map((function(e,n){e.type.toUpperCase();var i=e.span/24*100,r=[];if(e.validations){var l=e.validations,s=(0,u.template)(l.message)((0,a.Z)({},e.name.replace(".","_"),e.props.label));!0===l.isRequired&&r.push({required:!0,message:s})}return(0,j.jsx)(o.Z.Item,{wrapperCol:{offset:"".concat(e.offset)},rules:r,style:{width:"calc(".concat(i,"%)")},name:e.name,label:"SUBMIT"===e.type||"button"===e.type?null:e.props.label,children:(0,j.jsx)(b,{type:e.type,element:e,actions:t,selectResults:c})},n)}))})})}},1104:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var a=t(2791),i=t(586),r=t(7083),o=t(3613),l=t(6199),c=t(7586),s=t(8687),u=t(6014),d=t(6916),f=(0,d.P1)((function(e){return e.ui.menus}),(function(e){return e})),h=(0,d.P1)((function(e){return e.ui.pageTitle}),(function(e){return e})),m=t(2429),p=t(7689),j=t(184),v={handleLoadMenus:m.Y_,handleMenuClicked:m.Iw},x=(0,s.$j)((function(e){var n=(0,c.Dr)(e),t=f(e);return console.log(t),{authInfo:n,menus:t}}),v)((function(e){var n=e.menus,t=e.authInfo,i=e.handleLoadMenus,o=e.handleMenuClicked,l=(e.handleResetFormMeta,(0,p.s0)());(0,a.useEffect)((function(){i({id:t.userId,certificate:t.certificate})}),[]);return(0,j.jsx)(r.Z,{tip:"Loading Menus",spinning:0===n.length,children:(0,j.jsx)(u.Z,{onClick:function(e){o({title:e.item.props.title}),l(e.item.props.path)},theme:"light",defaultSelectedKeys:["1"],mode:"inline",items:n})})})),g=t(3859),Z=t(9439),b=t(6155),y=t(9291),I=t(2695),M=t(6106),S=t(914),C=t(5006),w=t(536),E={handleSearch:b.eD,handleSave:b.r3,handleLoadFormMeta:b.yW,handleLoadSearchMeta:b.$o,handleInitForm:b.mT,handleInitSelect:b.NL,handleResetFormMeta:b.Bo},R=(0,s.$j)((function(e){return{authInfo:(0,c.Dr)(e),formMeta:(0,I.Cf)(e),searchMeta:(0,I.ll)(e),searchResult:(0,I.sy)(e),initialValues:(0,I.w1)(e),saveMeta:(0,I.JU)(e),success:(0,I.mU)(e),selectResults:(0,I.fl)(e)}}),E)((function(e){var n=e.authInfo,t=e.formMeta,i=e.handleInitSelect,r=e.selectResults,o=e.handleInitForm,l=e.initialValues,c=e.handleSave,s=e.success,u=e.handleResetFormMeta,d=(0,p.s0)(),f=(0,p.UO)();console.log(f),(0,a.useEffect)((function(){return function(){return u()}}),[]);(0,a.useEffect)((function(){o({code:"edit-".concat(f.code),id:f.id,certificate:n.certificate})}),[f.id,f.code]),(0,a.useEffect)((function(){(t.attributes||[]).filter((function(e){return"SELECT"==e.type})).forEach((function(e){i({api:e.onSearch,certificate:n.certificate,name:e.name})}))}),[t.id]);var h=function(e){var t=Object.entries(e).reduce((function(e,n){var t=(0,Z.Z)(n,2);return function(e,n,t){console.log(e,n);var a=n.split("."),i=a.pop();return a.reduce((function(e,n){return e[n]=e[n]||{}}),e)[i]=t,e}(e,t[0],t[1])}),{});t.id=l.id,c({entity_name:"".concat(f.code),certificate:n.certificate,data:t})};return s?d("/home/".concat(f.code,"/search")):(0,j.jsxs)(M.Z,{gutter:[16,16],children:[(0,j.jsx)(S.Z,{span:24,children:(0,j.jsx)(y.Z,{title:t.title})}),(0,j.jsx)(S.Z,{span:24,children:(0,j.jsx)(C.Z,{meta:t,actions:{submitAction:function(e){return h(e)}},initialValues:(0,w.$)(l),selectResults:r})})]})})),L={handleSearch:b.eD,handleLoadFormMeta:b.yW,handleLoadSearchMeta:b.$o,handleInitForm:b.mT,handleNewMeta:b.GH,handleInitSelect:b.NL,handleResetFormMeta:b.Bo},F=(0,s.$j)((function(e){return{authInfo:(0,c.Dr)(e),formMeta:(0,I.Cf)(e),searchMeta:(0,I.ll)(e),searchResult:(0,I.sy)(e),initialValues:(0,I.w1)(e),newMeta:(0,I.aM)(e),success:(0,I.mU)(e),selectResults:(0,I.fl)(e)}}),L)((function(e){var n=e.authInfo,t=e.formMeta,i=e.handleLoadFormMeta,r=e.initialValues,o=e.handleNewMeta,l=e.success,c=e.selectResults,s=e.handleInitSelect,u=e.handleResetFormMeta,d=(0,p.s0)(),f=(0,p.UO)();(0,a.useEffect)((function(){return function(){return u()}}),[]),(0,a.useEffect)((function(){i({code:"add-".concat(f.code),certificate:n.certificate})}),[f.id,f.code]),(0,a.useEffect)((function(){(t.attributes||[]).filter((function(e){return"SELECT"==e.type})).forEach((function(e){s({api:e.onSearch,certificate:n.certificate,name:e.name})}))}),[t.id]);return l?d("/home/".concat(f.code,"/search")):(0,j.jsxs)(M.Z,{gutter:[16,16],children:[(0,j.jsx)(S.Z,{span:24,children:(0,j.jsx)(y.Z,{title:t.title})}),(0,j.jsx)(S.Z,{span:24,children:(0,j.jsx)(C.Z,{meta:t,actions:{submitAction:function(e){return function(e){o({entity_name:"".concat(f.code),certificate:n.certificate,data:e})}(e)}},initialValues:r,selectResults:c})})]})})),T=t(619),P=(0,d.P1)((function(e){return e.employee.getSelectDropdown}),(function(e){return e})),U={handleSearch:b.eD,handleSave:b.r3,handleLoadFormMeta:b.yW,handleLoadSearchMeta:b.$o,handleInitForm:b.mT,handleResults:T.ut,handleResetFormMeta:b.Bo},D=(0,s.$j)((function(e){var n=(0,c.Dr)(e),t=(0,I.Cf)(e),a=(0,I.ll)(e),i=(0,I.sy)(e),r=(0,I.w1)(e),o=(0,I.JU)(e),l=(0,I.mU)(e),s=P(e);return console.log("SELECT",s),{authInfo:n,formMeta:t,searchMeta:a,searchResult:i,initialValues:r,saveMeta:o,success:l,selectResults:s}}),U)((function(e){var n=e.authInfo,t=e.formMeta,i=e.handleResetFormMeta,r=e.handleInitForm,o=e.initialValues,l=e.handleSave,c=(e.saveMeta,e.success),s=e.selectResults,u=e.handleResults,d=(0,p.s0)(),f=(0,p.UO)();console.log(f),(0,a.useEffect)((function(){return function(){return i()}}),[]);(0,a.useEffect)((function(){return r({code:"edit-employee",id:f.id,certificate:n.certificate}),function(){return i()}}),[f.id]),(0,a.useEffect)((function(){(t.attributes||[]).filter((function(e){return"SELECT"==e.type})).forEach((function(e){"location.id"===e.name?u({api:"v2/location/vacant?id="+f.id,certificate:n.certificate,name:"location.id"}):u({api:e.onSearch,certificate:n.certificate,name:e.name})}))}),[t.id]);var h=function(e){var t=Object.entries(e).reduce((function(e,n){var t=(0,Z.Z)(n,2);return function(e,n,t){console.log(e,n);var a=n.split("."),i=a.pop();return a.reduce((function(e,n){return e[n]=e[n]||{}}),e)[i]=t,e}(e,t[0],t[1])}),{});t.id=o.id,l({entity_name:"employee",certificate:n.certificate,data:t})};return c?d("/home/employee/search"):(0,j.jsxs)(M.Z,{gutter:[16,16],children:[(0,j.jsx)(S.Z,{span:24,children:(0,j.jsx)(y.Z,{title:t.title})}),(0,j.jsx)(S.Z,{span:24,children:(0,j.jsx)(C.Z,{meta:t,actions:{submitAction:function(e){return h(e)}},initialValues:(0,w.$)(o),selectResults:s||{}})})]})})),$=[{path:"/home/dashboard",name:"Dashboard",element:a.lazy((function(){return t.e(484).then(t.bind(t,3484))}))},{path:"/home/reports/effort",name:"Effort Report",element:a.lazy((function(){return Promise.all([t.e(935),t.e(666),t.e(610),t.e(363)]).then(t.bind(t,3363))}))},{path:"/home/reports/attendance",name:"Attendance Report",element:a.lazy((function(){return Promise.all([t.e(935),t.e(666),t.e(610),t.e(414)]).then(t.bind(t,4414))}))},{path:"/home/expense/claim",name:"Expense Claim",element:a.lazy((function(){return Promise.all([t.e(935),t.e(666),t.e(585)]).then(t.bind(t,9585))}))},{path:"/portlet",name:"Portlet",element:a.lazy((function(){return Promise.resolve().then(t.bind(t,560))}))},{path:"/home/:code/search",name:"Search Stores",element:a.lazy((function(){return Promise.all([t.e(935),t.e(11)]).then(t.bind(t,1023))}))},{path:"/admin/:code/edit/:id",name:"Search Stores",element:R},{path:"/adminAdhoc/employee/edit/:id",name:"Search Stores",element:D},{path:"/admin/:code/new",name:"New",element:F},{path:"/login",name:"Login",element:g.default}],N=t(6161),V=t(7504),k={handleLoadProfileInfo:t(9973).zk},O=(0,s.$j)((function(e){return{authInfo:(0,c.Dr)(e),profileInfo:(0,c.Rs)(e),pageTitle:h(e)}}),k)((function(e){var n=e.authInfo,t=(e.profileInfo,e.handleLoadProfileInfo);e.pageTitle;(0,a.useEffect)((function(){t({certificate:n.certificate,id:n.userId})}),[]);var i=N.Z.Title;return(0,j.jsx)(M.Z,{justify:"space-between",style:{height:"100%"},children:(0,j.jsx)(S.Z,{span:4,offset:20,children:(0,j.jsx)(V.Z,{loading:null===n,size:"small",paragraph:{rows:0},children:(0,j.jsx)(i,{level:5,children:null===n?"":n.employeeName})})})})})),z=(0,s.$j)((function(e){return{authInfo:(0,c.Dr)(e)}}),{})((function(e){e.authInfo;return(0,j.jsxs)(i.Z,{style:{minHeight:"100vh"},children:[(0,j.jsxs)(l.Z,{width:172,children:[(0,j.jsx)("div",{style:{height:"60px",color:"#fff",padding:"20px"},children:"LOGO"}),(0,j.jsx)(x,{})]}),(0,j.jsxs)(i.Z,{className:"site-layout",children:[(0,j.jsx)(o.h4,{children:(0,j.jsx)(O,{})}),(0,j.jsx)(o.VY,{className:"content-layout",children:(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)(r.Z,{}),children:(0,j.jsxs)(p.Z5,{children:[$.map((function(e,n){return e.element&&(0,j.jsx)(p.AW,{path:e.path,exact:e.exact,name:e.name,element:(0,j.jsx)(e.element,{})},n)})),(0,j.jsx)(p.AW,{path:"/",element:(0,j.jsx)(p.Fg,{to:"dashboard",replace:!0})})]})})})]})]})}))},2695:function(e,n,t){t.d(n,{Cf:function(){return i},JU:function(){return s},aM:function(){return u},fl:function(){return l},ll:function(){return r},mU:function(){return d},sy:function(){return o},w1:function(){return c}});var a=t(6916),i=(0,a.P1)((function(e){return e.common.formMeta}),(function(e){return e})),r=(0,a.P1)((function(e){return e.common.searchMeta}),(function(e){return e})),o=(0,a.P1)((function(e){return e.common.searchResults}),(function(e){return e})),l=(0,a.P1)((function(e){return e.common.selectResult}),(function(e){return e})),c=(0,a.P1)((function(e){return e.common.formInitValues}),(function(e){return e})),s=(0,a.P1)((function(e){return e.common.saveMeta}),(function(e){return e})),u=(0,a.P1)((function(e){return e.common.newMeta}),(function(e){return e})),d=(0,a.P1)((function(e){return e.common.success}),(function(e){return e}))},9291:function(e,n,t){t(2791);var a=t(6161),i=t(3840),r=t(1333),o=t(184);n.Z=function(e){var n=e.title,t=e.subTitle;a.Z.Title;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,{style:{paddingTop:0,paddingBottom:0},title:n,subTitle:t}),(0,o.jsx)(r.Z,{style:{paddingBottom:0,marginTop:0,backgroundColor:"#9B51E0"}})]})}}}]);
//# sourceMappingURL=104.13bd594b.chunk.js.map